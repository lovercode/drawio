<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36" version="26.1.1" pages="2">
  <diagram name="es" id="c3cB4l17CzinEFfTmNWS">
    <mxGraphModel dx="1877" dy="771" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="40" y="490" width="250" height="150" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-1" target="gfp4Hjq4H9kUBLCGHOVR-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="500" y="310" />
              <mxPoint x="334" y="310" />
              <mxPoint x="334" y="360" />
              <mxPoint x="100" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-12" value="key作为路由（可自定义）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-11">
          <mxGeometry x="-0.0521" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-1" value="客户端" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="240" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="20" y="380" width="290" height="590" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-4" value="数据节点1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="380" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="gfp4Hjq4H9kUBLCGHOVR-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="470" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-14" value="refresh&lt;div&gt;成可搜索的segment&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-13">
          <mxGeometry x="-0.1" relative="1" as="geometry">
            <mxPoint y="23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-5" target="gfp4Hjq4H9kUBLCGHOVR-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-24" value="顺序写日志" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-23">
          <mxGeometry x="-0.0028" y="1" relative="1" as="geometry">
            <mxPoint x="43" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-52" value="同步写副本" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-5" target="gfp4Hjq4H9kUBLCGHOVR-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-5" value="分片1-主" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="450" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-6" value="分片2-副" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="450" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-8" value="内存" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="490" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-9" value="segment缓冲区" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="55" y="575" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-10" target="gfp4Hjq4H9kUBLCGHOVR-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-39" value="fsync持久化&lt;br&gt;决定数据安全性" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-38">
          <mxGeometry x="-0.0009" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-10" value="translog" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="575" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-25" target="gfp4Hjq4H9kUBLCGHOVR-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="50" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-25" value="refrsh的周期&lt;div&gt;决定了可检索的时效性&lt;br&gt;segment生成后就不会修改&lt;br&gt;可配置buffer大小&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;" vertex="1" parent="1">
          <mxGeometry x="-175" y="520" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-28" target="gfp4Hjq4H9kUBLCGHOVR-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-28" value="translog保证了数据的安全&lt;br&gt;崩溃恢复&lt;br&gt;WAL，mysql，redis存储的常规设计" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="350" y="555" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-30" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="40" y="710" width="250" height="240" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-31" value="磁盘" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="710" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-32" value="segment" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="750" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-33" value="segment" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="760" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-34" target="gfp4Hjq4H9kUBLCGHOVR-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-42" value="清理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-40">
          <mxGeometry x="-0.0857" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-34" target="gfp4Hjq4H9kUBLCGHOVR-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-45" value="定期merge&lt;br&gt;清理已经删除的doc" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-44">
          <mxGeometry x="-0.1643" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-34" target="gfp4Hjq4H9kUBLCGHOVR-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-48" value="更新" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-47">
          <mxGeometry x="0.2414" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-34" value="segment" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="770" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-9" target="gfp4Hjq4H9kUBLCGHOVR-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-36" value="flush持久化到磁盘&lt;br&gt;默认30分钟" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="gfp4Hjq4H9kUBLCGHOVR-35">
          <mxGeometry x="-0.1886" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-37" value="translog" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="760" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-43" value="segment" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="55" y="850" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-46" value="checkpoint" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="850" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-49" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="650" y="380" width="290" height="590" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-50" value="数据节点2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="380" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-51" value="分片1-副" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="450" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="gfp4Hjq4H9kUBLCGHOVR-55" target="gfp4Hjq4H9kUBLCGHOVR-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-55" value="index.translog.durability&lt;br&gt;request：每次都fsync&lt;br&gt;async：异步刷" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#d79b00;fillColor=#ffe6cc;" vertex="1" parent="1">
          <mxGeometry x="350" y="740" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-57" value="del doc" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="55" y="910" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gfp4Hjq4H9kUBLCGHOVR-58" value="https://developer.aliyun.com/article/1082566" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-140" y="1048" width="260" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="HtjlyvYrdgTbRT1da4rH" name="大模型">
    <mxGraphModel dx="2034" dy="887" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-1" target="-ScDWW_V6jiQ_rjggYxO-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-1" value="文档解析" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-2" target="-ScDWW_V6jiQ_rjggYxO-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-2" target="-ScDWW_V6jiQ_rjggYxO-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-2" target="-ScDWW_V6jiQ_rjggYxO-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-2" target="-ScDWW_V6jiQ_rjggYxO-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-2" value="文档分片" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-3" target="-ScDWW_V6jiQ_rjggYxO-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-3" target="-ScDWW_V6jiQ_rjggYxO-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-3" value="内容embedding" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-5" value="向量存储" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-6" target="-ScDWW_V6jiQ_rjggYxO-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-6" value="多路检索" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-7" target="-ScDWW_V6jiQ_rjggYxO-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-7" value="重排" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-8" target="-ScDWW_V6jiQ_rjggYxO-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-8" target="-ScDWW_V6jiQ_rjggYxO-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-8" value="query改写" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-16" value="LLM" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="-ScDWW_V6jiQ_rjggYxO-18" target="-ScDWW_V6jiQ_rjggYxO-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-18" value="语意分片" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="460" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-20" value="固定窗口" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="370" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-22" value="把段落进行embedding&lt;div&gt;然后计算段落之间的相似度&lt;/div&gt;&lt;div&gt;把大于谋阈值的合并在一起&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="-60" y="440" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-23" value="embedding模型" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="550" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-27" value="固定窗口+重叠" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="290" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-29" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-140" y="290" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-30" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry y="290" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-32" value="重叠" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="-40" y="290" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-33" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-520" y="760" width="660" height="330" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-34" value="统计型语言模型" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-520" y="760" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-35" value="N-gram" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-500" y="820" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-36" value="&lt;div&gt;&lt;b&gt;原理：&lt;/b&gt;&lt;/div&gt;句子：w1,w2,w3,w4,w5,w6,w7&lt;div&gt;P(w1...w7) = p(w1)p(w2|w1)p(w3|w,w1)-&amp;gt;所有的条件概率之积&lt;/div&gt;&lt;div&gt;一般不会是整个句子计算，所以会限制N个词，所以是N-gram，一般可能取N=5&lt;br&gt;&lt;br&gt;&lt;b&gt;局限性：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;无法处理长句子，因为更长意味着计算量更大&lt;br&gt;没有考虑词的内在联系：比如apple在不同语境下可能表示水果或者手机&lt;br&gt;&lt;br&gt;&lt;b&gt;原因：&lt;/b&gt;&lt;/div&gt;&lt;div&gt;编码的向量是one-hot（独热编码），向量的维度等于词典的大小，每个向量&lt;b&gt;两两正交&lt;/b&gt;&lt;/div&gt;&lt;div&gt;上万或者百万的词典，会导致&lt;b&gt;维度灾难&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-490" y="840" width="470" height="190" as="geometry" />
        </mxCell>
        <mxCell id="-ScDWW_V6jiQ_rjggYxO-37" value="https://www.cnblogs.com/guoyaohua/p/9240336.html" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-520" y="730" width="300" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
